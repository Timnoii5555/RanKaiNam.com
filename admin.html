<!DOCTYPE html>
<html class="dark" lang="th">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô - RanKaiNam</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: { "primary": "#48C9B0", "background-dark": "#121212", "surface-dark": "#1e1e1e" },
                    fontFamily: { "display": ["Kanit", "sans-serif"] },
                },
            },
        }
    </script>
</head>
<body class="bg-background-dark text-white font-display p-6">
    <div class="max-w-4xl mx-auto">
        <header class="flex justify-between items-center mb-10">
            <h1 class="text-3xl font-bold flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">settings</span> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô (Admin)
            </h1>
            <a href="index.html" class="bg-red-500/10 text-red-400 px-4 py-2 rounded-lg font-bold">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a>
        </header>

        <section>
            <div class="flex items-center gap-3 mb-6">
                <span class="text-3xl">üî•</span>
                <h2 class="text-2xl font-bold">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ß: <span id="order-count" class="text-primary">0</span> ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</h2>
            </div>

            <button onclick="loadKitchen()" class="bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-xl font-bold flex items-center gap-2 mb-8 shadow-lg shadow-blue-900/20 transition-all">
                <span class="material-symbols-outlined">refresh</span> ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå
            </button>

            <div id="kitchen-display" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                </div>
        </section>
    </div>

    <script>
        function loadKitchen() {
            const display = document.getElementById('kitchen-display');
            const orders = JSON.parse(localStorage.getItem('kitchenOrders')) || [];
            
            document.getElementById('order-count').innerText = orders.length;

            if (orders.length === 0) {
                display.innerHTML = `<div class="col-span-full py-10 bg-green-500/10 border border-green-500/20 text-green-500 rounded-2xl text-center font-bold">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏Ñ‡πâ‡∏≤‡∏á</div>`;
                return;
            }

            display.innerHTML = '';
            orders.forEach((order, index) => {
                // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå
                const itemsHTML = order.items.map(item => `
                    <div class="flex justify-between py-2 border-b border-white/5 last:border-0">
                        <div class="flex gap-3">
                            <span class="font-bold text-primary">${item.qty}x</span>
                            <div>
                                <p class="font-bold text-sm">${item.name}</p>
                                <p class="text-[10px] text-gray-500">${item.detail}</p>
                            </div>
                        </div>
                    </div>
                `).join('');

                display.innerHTML += `
                    <div class="bg-surface-dark border border-white/10 rounded-2xl p-5 shadow-xl">
                        <div class="flex justify-between border-b border-white/10 pb-3 mb-3">
                            <span class="bg-primary text-black px-2 py-1 rounded text-xs font-bold">${order.table}</span>
                            <span class="text-xs text-gray-500">${order.time} | #${order.id}</span>
                        </div>
                        <div class="min-h-[80px]">${itemsHTML}</div>
                        <div class="mt-4 pt-3 border-t border-white/10 flex justify-between items-center">
                            <span class="font-bold text-sm">‡∏£‡∏ß‡∏° ‡∏ø${order.total}</span>
                            <button onclick="finishOrder(${index})" class="bg-green-600 hover:bg-green-500 text-white px-6 py-2 rounded-xl font-bold text-sm transition-colors">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</button>
                        </div>
                    </div>
                `;
            });
        }

        function finishOrder(index) {
            let orders = JSON.parse(localStorage.getItem('kitchenOrders')) || [];
            if(confirm('‡∏ó‡∏≥‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?')) {
                orders.splice(index, 1);
                localStorage.setItem('kitchenOrders', JSON.stringify(orders));
                loadKitchen();
            }
        }

        // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
        loadKitchen();
    </script>
</body>
</html>